-- サンプルデータの投入
-- 開発・テスト用のサンプルデータを投入します

-- 1. 企業データ（簡素化 - 業種・グループなし）
INSERT INTO companies (id, name, company_code, description, created_at, updated_at) VALUES
('c1111111-1111-1111-1111-111111111111', '株式会社サンプル製造', 'SAMPLE001', '自動車部品製造会社', NOW(), NOW()),
('c2222222-2222-2222-2222-222222222222', '株式会社サンプル商事', 'SAMPLE002', '電子部品商社', NOW(), NOW()),
('c3333333-3333-3333-3333-333333333333', '株式会社テックイノベーション', 'SAMPLE003', 'ITサービス企業', NOW(), NOW())
ON CONFLICT (id) DO NOTHING;

-- 2. 財務分析データ
INSERT INTO financial_analyses (id, company_id, analysis_date, fiscal_year_start, fiscal_year_end, periods_count, status, notes, created_at, updated_at) VALUES
('f1111111-1111-1111-1111-111111111111', 'c1111111-1111-1111-1111-111111111111', '2024-10-01', 2021, 2023, 3, 'completed', '直近3期の財務分析', NOW(), NOW()),
('f2222222-2222-2222-2222-222222222222', 'c2222222-2222-2222-2222-222222222222', '2024-09-15', 2021, 2023, 3, 'completed', '業績好調', NOW(), NOW()),
('f3333333-3333-3333-3333-333333333333', 'c3333333-3333-3333-3333-333333333333', '2024-10-10', 2022, 2023, 2, 'draft', '成長企業の財務分析', NOW(), NOW())
ON CONFLICT (id) DO NOTHING;

-- 3. 財務期間データ
INSERT INTO financial_periods (id, analysis_id, fiscal_year, period_start_date, period_end_date, created_at, updated_at) VALUES
-- サンプル製造
('01111111-1111-1111-1111-111111111111', 'f1111111-1111-1111-1111-111111111111', 2021, '2021-04-01', '2022-03-31', NOW(), NOW()),
('01111111-2222-2222-2222-222222222222', 'f1111111-1111-1111-1111-111111111111', 2022, '2022-04-01', '2023-03-31', NOW(), NOW()),
('01111111-3333-3333-3333-333333333333', 'f1111111-1111-1111-1111-111111111111', 2023, '2023-04-01', '2024-03-31', NOW(), NOW()),
-- サンプル商事
('02222222-1111-1111-1111-111111111111', 'f2222222-2222-2222-2222-222222222222', 2021, '2021-04-01', '2022-03-31', NOW(), NOW()),
('02222222-2222-2222-2222-222222222222', 'f2222222-2222-2222-2222-222222222222', 2022, '2022-04-01', '2023-03-31', NOW(), NOW()),
('02222222-3333-3333-3333-333333333333', 'f2222222-2222-2222-2222-222222222222', 2023, '2023-04-01', '2024-03-31', NOW(), NOW()),
-- テックイノベーション
('03333333-2222-2222-2222-222222222222', 'f3333333-3333-3333-3333-333333333333', 2022, '2022-04-01', '2023-03-31', NOW(), NOW()),
('03333333-3333-3333-3333-333333333333', 'f3333333-3333-3333-3333-333333333333', 2023, '2023-04-01', '2024-03-31', NOW(), NOW())
ON CONFLICT (id) DO NOTHING;

-- 4. 貸借対照表項目 - サンプル製造
INSERT INTO balance_sheet_items (
  period_id,
  cash_and_deposits, accounts_receivable, inventory,
  current_assets_total, tangible_fixed_assets,
  fixed_assets_total, total_assets,
  accounts_payable, short_term_borrowings,
  current_liabilities_total, long_term_borrowings,
  total_liabilities, capital_stock,
  retained_earnings, total_net_assets,
  created_at, updated_at
) VALUES
-- 2021年度
('01111111-1111-1111-1111-111111111111',
 150000000, 280000000, 180000000,
 650000000, 320000000,
 420000000, 1070000000,
 220000000, 150000000,
 480000000, 200000000,
 700000000, 100000000,
 270000000, 370000000,
 NOW(), NOW()),
-- 2022年度
('01111111-2222-2222-2222-222222222222',
 180000000, 320000000, 190000000,
 720000000, 340000000,
 450000000, 1170000000,
 240000000, 140000000,
 510000000, 180000000,
 710000000, 100000000,
 360000000, 460000000,
 NOW(), NOW()),
-- 2023年度
('01111111-3333-3333-3333-333333333333',
 220000000, 380000000, 200000000,
 830000000, 360000000,
 480000000, 1310000000,
 260000000, 130000000,
 540000000, 160000000,
 720000000, 100000000,
 490000000, 590000000,
 NOW(), NOW())
ON CONFLICT (period_id) DO NOTHING;

-- 5. 損益計算書項目 - サンプル製造
INSERT INTO profit_loss_items (
  period_id,
  net_sales, cost_of_sales, gross_profit,
  selling_general_admin_expenses, operating_income,
  non_operating_income, non_operating_expenses,
  ordinary_income, income_before_tax,
  income_taxes, net_income,
  created_at, updated_at
) VALUES
-- 2021年度
('01111111-1111-1111-1111-111111111111',
 1200000000, 840000000, 360000000,
 250000000, 110000000,
 5000000, 12000000,
 103000000, 100000000,
 30000000, 70000000,
 NOW(), NOW()),
-- 2022年度
('01111111-2222-2222-2222-222222222222',
 1350000000, 920000000, 430000000,
 280000000, 150000000,
 6000000, 10000000,
 146000000, 140000000,
 42000000, 98000000,
 NOW(), NOW()),
-- 2023年度
('01111111-3333-3333-3333-333333333333',
 1580000000, 1060000000, 520000000,
 310000000, 210000000,
 8000000, 9000000,
 209000000, 205000000,
 61500000, 143500000,
 NOW(), NOW())
ON CONFLICT (period_id) DO NOTHING;

-- 貸借対照表項目 - サンプル商事
INSERT INTO balance_sheet_items (
  period_id,
  cash_and_deposits, accounts_receivable, inventory,
  current_assets_total, tangible_fixed_assets,
  fixed_assets_total, total_assets,
  accounts_payable, short_term_borrowings,
  current_liabilities_total, long_term_borrowings,
  total_liabilities, capital_stock,
  retained_earnings, total_net_assets,
  created_at, updated_at
) VALUES
-- 2021年度
('02222222-1111-1111-1111-111111111111',
 280000000, 520000000, 340000000,
 1180000000, 180000000,
 240000000, 1420000000,
 450000000, 180000000,
 720000000, 150000000,
 900000000, 150000000,
 370000000, 520000000,
 NOW(), NOW()),
-- 2022年度
('02222222-2222-2222-2222-222222222222',
 320000000, 580000000, 360000000,
 1300000000, 190000000,
 250000000, 1550000000,
 480000000, 170000000,
 750000000, 140000000,
 920000000, 150000000,
 480000000, 630000000,
 NOW(), NOW()),
-- 2023年度
('02222222-3333-3333-3333-333333333333',
 380000000, 660000000, 380000000,
 1480000000, 200000000,
 270000000, 1750000000,
 520000000, 160000000,
 800000000, 130000000,
 960000000, 150000000,
 640000000, 790000000,
 NOW(), NOW())
ON CONFLICT (period_id) DO NOTHING;

-- 損益計算書項目 - サンプル商事
INSERT INTO profit_loss_items (
  period_id,
  net_sales, cost_of_sales, gross_profit,
  selling_general_admin_expenses, operating_income,
  non_operating_income, non_operating_expenses,
  ordinary_income, income_before_tax,
  income_taxes, net_income,
  created_at, updated_at
) VALUES
-- 2021年度
('02222222-1111-1111-1111-111111111111',
 2800000000, 2450000000, 350000000,
 220000000, 130000000,
 8000000, 15000000,
 123000000, 120000000,
 36000000, 84000000,
 NOW(), NOW()),
-- 2022年度
('02222222-2222-2222-2222-222222222222',
 3150000000, 2740000000, 410000000,
 250000000, 160000000,
 10000000, 12000000,
 158000000, 155000000,
 46500000, 108500000,
 NOW(), NOW()),
-- 2023年度
('02222222-3333-3333-3333-333333333333',
 3600000000, 3120000000, 480000000,
 280000000, 200000000,
 12000000, 10000000,
 202000000, 200000000,
 60000000, 140000000,
 NOW(), NOW())
ON CONFLICT (period_id) DO NOTHING;

-- 貸借対照表項目 - テックイノベーション
INSERT INTO balance_sheet_items (
  period_id,
  cash_and_deposits, accounts_receivable, inventory,
  current_assets_total, tangible_fixed_assets,
  fixed_assets_total, total_assets,
  accounts_payable, short_term_borrowings,
  current_liabilities_total, long_term_borrowings,
  total_liabilities, capital_stock,
  retained_earnings, total_net_assets,
  created_at, updated_at
) VALUES
-- 2022年度
('03333333-2222-2222-2222-222222222222',
 420000000, 180000000, 20000000,
 650000000, 80000000,
 120000000, 770000000,
 120000000, 50000000,
 250000000, 80000000,
 350000000, 200000000,
 220000000, 420000000,
 NOW(), NOW()),
-- 2023年度
('03333333-3333-3333-3333-333333333333',
 550000000, 280000000, 25000000,
 890000000, 100000000,
 150000000, 1040000000,
 180000000, 40000000,
 310000000, 70000000,
 400000000, 200000000,
 440000000, 640000000,
 NOW(), NOW())
ON CONFLICT (period_id) DO NOTHING;

-- 損益計算書項目 - テックイノベーション
INSERT INTO profit_loss_items (
  period_id,
  net_sales, cost_of_sales, gross_profit,
  selling_general_admin_expenses, operating_income,
  non_operating_income, non_operating_expenses,
  ordinary_income, income_before_tax,
  income_taxes, net_income,
  created_at, updated_at
) VALUES
-- 2022年度
('03333333-2222-2222-2222-222222222222',
 850000000, 320000000, 530000000,
 380000000, 150000000,
 5000000, 8000000,
 147000000, 145000000,
 43500000, 101500000,
 NOW(), NOW()),
-- 2023年度
('03333333-3333-3333-3333-333333333333',
 1200000000, 440000000, 760000000,
 480000000, 280000000,
 8000000, 6000000,
 282000000, 280000000,
 84000000, 196000000,
 NOW(), NOW())
ON CONFLICT (period_id) DO NOTHING;

-- 6. 手入力データ - サンプル製造
INSERT INTO manual_inputs (period_id, input_type, amount, note, created_at, updated_at) VALUES
('01111111-1111-1111-1111-111111111111', 'depreciation', 28000000, '2021年度減価償却費', NOW(), NOW()),
('01111111-1111-1111-1111-111111111111', 'capex', 35000000, '2021年度設備投資', NOW(), NOW()),
('01111111-2222-2222-2222-222222222222', 'depreciation', 32000000, '2022年度減価償却費', NOW(), NOW()),
('01111111-2222-2222-2222-222222222222', 'capex', 52000000, '2022年度設備投資', NOW(), NOW()),
('01111111-3333-3333-3333-333333333333', 'depreciation', 36000000, '2023年度減価償却費', NOW(), NOW()),
('01111111-3333-3333-3333-333333333333', 'capex', 58000000, '2023年度設備投資', NOW(), NOW()),
-- サンプル商事
('02222222-1111-1111-1111-111111111111', 'depreciation', 18000000, '2021年度減価償却費', NOW(), NOW()),
('02222222-1111-1111-1111-111111111111', 'capex', 22000000, '2021年度設備投資', NOW(), NOW()),
('02222222-2222-2222-2222-222222222222', 'depreciation', 20000000, '2022年度減価償却費', NOW(), NOW()),
('02222222-2222-2222-2222-222222222222', 'capex', 28000000, '2022年度設備投資', NOW(), NOW()),
('02222222-3333-3333-3333-333333333333', 'depreciation', 22000000, '2023年度減価償却費', NOW(), NOW()),
('02222222-3333-3333-3333-333333333333', 'capex', 35000000, '2023年度設備投資', NOW(), NOW()),
-- テックイノベーション
('03333333-2222-2222-2222-222222222222', 'depreciation', 12000000, '2022年度減価償却費', NOW(), NOW()),
('03333333-2222-2222-2222-222222222222', 'capex', 28000000, '2022年度設備投資', NOW(), NOW()),
('03333333-3333-3333-3333-333333333333', 'depreciation', 18000000, '2023年度減価償却費', NOW(), NOW()),
('03333333-3333-3333-3333-333333333333', 'capex', 45000000, '2023年度設備投資', NOW(), NOW())
ON CONFLICT DO NOTHING;

-- 7. 財務指標データ
-- サンプル製造 - 2021年度
INSERT INTO financial_metrics (
  analysis_id, period_id,
  net_cash, current_ratio,
  gross_profit_margin, operating_profit_margin, ebitda_margin,
  roe, roa,
  accounts_receivable_turnover_months, inventory_turnover_months,
  ebitda, fcf, ebitda_to_interest_bearing_debt,
  sales_growth_rate, operating_income_growth_rate, ebitda_growth_rate,
  created_at, updated_at
) VALUES
-- 2021年度（成長率はNULL）
('f1111111-1111-1111-1111-111111111111', '01111111-1111-1111-1111-111111111111',
 -200000000, 135.42,
 30.00, 9.17, 11.50,
 18.92, 6.54,
 2.80, 2.57,
 138000000, 103000000, 2.54,
 NULL, NULL, NULL,
 NOW(), NOW()),
-- 2022年度
('f1111111-1111-1111-1111-111111111111', '01111111-2222-2222-2222-222222222222',
 -140000000, 141.18,
 31.85, 11.11, 13.48,
 21.30, 8.38,
 2.84, 2.48,
 182000000, 130000000, 1.76,
 12.50, 36.36, 31.88,
 NOW(), NOW()),
-- 2023年度
('f1111111-1111-1111-1111-111111111111', '01111111-3333-3333-3333-333333333333',
 -70000000, 153.70,
 32.91, 13.29, 15.57,
 24.32, 10.95,
 2.89, 2.26,
 246000000, 188000000, 1.18,
 17.04, 40.00, 35.16,
 NOW(), NOW()),

-- サンプル商事
('f2222222-2222-2222-2222-222222222222', '02222222-1111-1111-1111-111111111111',
 -50000000, 163.89,
 12.50, 4.64, 5.29,
 16.15, 5.92,
 2.23, 1.67,
 148000000, 126000000, 2.23,
 NULL, NULL, NULL,
 NOW(), NOW()),
('f2222222-2222-2222-2222-222222222222', '02222222-2222-2222-2222-222222222222',
 -10000000, 173.33,
 13.02, 5.08, 5.71,
 17.22, 7.00,
 2.21, 1.58,
 180000000, 152000000, 1.72,
 12.50, 23.08, 21.62,
 NOW(), NOW()),
('f2222222-2222-2222-2222-222222222222', '02222222-3333-3333-3333-333333333333',
 90000000, 185.00,
 13.33, 5.56, 6.17,
 17.72, 8.00,
 2.20, 1.46,
 222000000, 187000000, 1.31,
 14.29, 25.00, 23.33,
 NOW(), NOW()),

-- テックイノベーション
('f3333333-3333-3333-3333-333333333333', '03333333-2222-2222-2222-222222222222',
 290000000, 260.00,
 62.35, 17.65, 19.06,
 24.17, 13.18,
 2.54, 0.90,
 162000000, 134000000, 0.80,
 NULL, NULL, NULL,
 NOW(), NOW()),
('f3333333-3333-3333-3333-333333333333', '03333333-3333-3333-3333-333333333333',
 400000000, 287.10,
 63.33, 23.33, 24.83,
 30.63, 18.85,
 2.80, 0.68,
 298000000, 253000000, 0.37,
 41.18, 86.67, 83.95,
 NOW(), NOW())
ON CONFLICT (analysis_id, period_id) DO NOTHING;

-- 8. 分析コメント
INSERT INTO analysis_comments (
  analysis_id, comment_type,
  ai_generated_text,
  is_edited, display_order,
  created_at, updated_at
) VALUES
('f1111111-1111-1111-1111-111111111111', 'overall',
 '【総合評価】
株式会社サンプル製造の財務状況は良好です。3期連続で増収増益を達成しており、売上高は2021年度の12億円から2023年度には15.8億円まで31.7%増加しています。営業利益率も改善傾向にあり、収益性が向上しています。

一方で、有利子負債も一定程度存在するため、今後の設備投資と財務バランスに注意が必要です。',
 false, 1,
 NOW(), NOW()),
('f1111111-1111-1111-1111-111111111111', 'profitability',
 '【収益性分析】
売上総利益率は30-33%で安定しており、営業利益率は9.2%から13.3%へと大きく改善しています。ROEも18.9%から24.3%へ向上しており、資本効率も良好です。',
 false, 2,
 NOW(), NOW()),
('f2222222-2222-2222-2222-222222222222', 'overall',
 '【総合評価】
株式会社サンプル商事の財務状況は非常に良好です。3期連続で増収増益を達成しており、売上高は2021年度の28億円から2023年度には36億円まで28.6%増加しています。営業利益も1.3億円から2億円へと53.8%増加し、収益性が大きく向上しています。

商社としての事業モデルが順調に拡大しており、今後も安定的な成長が期待できます。',
 false, 1,
 NOW(), NOW()),
('f2222222-2222-2222-2222-222222222222', 'profitability',
 '【収益性分析】
売上総利益率は12.5-13.3%で安定しており、営業利益率は4.6%から5.6%へと改善しています。商社としては標準的な利益率ですが、着実な改善傾向が見られます。ROEも16.2%から17.7%へ向上しており、株主価値の向上も実現しています。',
 false, 2,
 NOW(), NOW()),
('f2222222-2222-2222-2222-222222222222', 'growth',
 '【成長性分析】
売上高成長率は12.5%（2022年度）、14.3%（2023年度）と高い水準を維持しています。営業利益成長率は23.1%、25.0%とさらに高く、効率的な成長を実現しています。EBITDA成長率も20%前後で推移しており、キャッシュ創出力も向上しています。',
 false, 3,
 NOW(), NOW()),
('f3333333-3333-3333-3333-333333333333', 'overall',
 '【総合評価】
株式会社テックイノベーションは急成長中のITサービス企業です。2022年度から2023年度にかけて、売上高が8.5億円から12億円へと41.2%増加し、営業利益は1.5億円から2.8億円へと86.7%増加しています。

高い成長率と収益性を兼ね備えた優良企業であり、今後のさらなる成長が期待されます。財務健全性も良好で、投資余力も十分にあります。',
 false, 1,
 NOW(), NOW()),
('f3333333-3333-3333-3333-333333333333', 'profitability',
 '【収益性分析】
売上総利益率は62-63%と非常に高く、ITサービス企業としての高付加価値ビジネスモデルが確立されています。営業利益率は17.6%から23.3%へと大きく改善しており、規模の経済効果が発揮されています。ROEは24.2%から30.6%へ向上し、高い資本効率を実現しています。',
 false, 2,
 NOW(), NOW()),
('f3333333-3333-3333-3333-333333333333', 'growth',
 '【成長性分析】
売上高成長率41.2%、営業利益成長率86.7%という驚異的な成長を遂げています。EBITDA成長率も68.3%と高く、キャッシュ創出力も急速に向上しています。今後も技術革新と市場拡大により、高成長が継続すると予想されます。',
 false, 3,
 NOW(), NOW())
ON CONFLICT DO NOTHING;

