-- サンプルデータの投入
-- 開発・テスト用のサンプルデータを投入します

-- 1. 業種データ
INSERT INTO industries (id, name, code, description, created_at, updated_at) VALUES
('11111111-1111-1111-1111-111111111111', '製造業', 'MFG', '製造業全般', NOW(), NOW()),
('22222222-2222-2222-2222-222222222222', '卸売業', 'WHOLESALE', '卸売業全般', NOW(), NOW()),
('33333333-3333-3333-3333-333333333333', '小売業', 'RETAIL', '小売業全般', NOW(), NOW()),
('44444444-4444-4444-4444-444444444444', '情報通信業', 'IT', 'IT・情報通信業', NOW(), NOW()),
('55555555-5555-5555-5555-555555555555', 'サービス業', 'SERVICE', 'サービス業全般', NOW(), NOW())
ON CONFLICT (id) DO NOTHING;

-- 2. 企業グループデータ
INSERT INTO company_groups (id, name, industry_id, description, created_at, updated_at) VALUES
('aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 'サンプル製造グループ', '11111111-1111-1111-1111-111111111111', '製造業の企業グループ', NOW(), NOW()),
('bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb', 'サンプル商社グループ', '22222222-2222-2222-2222-222222222222', '商社系企業グループ', NOW(), NOW())
ON CONFLICT (id) DO NOTHING;

-- 3. 企業データ
INSERT INTO companies (id, name, group_id, industry_id, company_code, description, created_at, updated_at) VALUES
('c1111111-1111-1111-1111-111111111111', '株式会社サンプル製造', 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', '11111111-1111-1111-1111-111111111111', 'SAMPLE001', '自動車部品製造会社', NOW(), NOW()),
('c2222222-2222-2222-2222-222222222222', '株式会社サンプル商事', 'bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb', '22222222-2222-2222-2222-222222222222', 'SAMPLE002', '電子部品商社', NOW(), NOW()),
('c3333333-3333-3333-3333-333333333333', '株式会社テックイノベーション', NULL, '44444444-4444-4444-4444-444444444444', 'SAMPLE003', 'ITサービス企業', NOW(), NOW())
ON CONFLICT (id) DO NOTHING;

-- 4. 財務分析データ
INSERT INTO financial_analyses (id, company_id, analysis_date, fiscal_year_start, fiscal_year_end, periods_count, status, notes, created_at, updated_at) VALUES
('f1111111-1111-1111-1111-111111111111', 'c1111111-1111-1111-1111-111111111111', '2024-10-01', 2021, 2023, 3, 'completed', '直近3期の財務分析', NOW(), NOW()),
('f2222222-2222-2222-2222-222222222222', 'c2222222-2222-2222-2222-222222222222', '2024-09-15', 2021, 2023, 3, 'completed', '業績好調', NOW(), NOW()),
('f3333333-3333-3333-3333-333333333333', 'c3333333-3333-3333-3333-333333333333', '2024-10-10', 2022, 2023, 2, 'draft', '成長企業の財務分析', NOW(), NOW())
ON CONFLICT (id) DO NOTHING;

-- 5. 財務期間データ
INSERT INTO financial_periods (id, analysis_id, fiscal_year, period_start_date, period_end_date, created_at, updated_at) VALUES
-- サンプル製造
('01111111-1111-1111-1111-111111111111', 'f1111111-1111-1111-1111-111111111111', 2021, '2021-04-01', '2022-03-31', NOW(), NOW()),
('01111111-2222-2222-2222-222222222222', 'f1111111-1111-1111-1111-111111111111', 2022, '2022-04-01', '2023-03-31', NOW(), NOW()),
('01111111-3333-3333-3333-333333333333', 'f1111111-1111-1111-1111-111111111111', 2023, '2023-04-01', '2024-03-31', NOW(), NOW()),
-- サンプル商事
('02222222-1111-1111-1111-111111111111', 'f2222222-2222-2222-2222-222222222222', 2021, '2021-04-01', '2022-03-31', NOW(), NOW()),
('02222222-2222-2222-2222-222222222222', 'f2222222-2222-2222-2222-222222222222', 2022, '2022-04-01', '2023-03-31', NOW(), NOW()),
('02222222-3333-3333-3333-333333333333', 'f2222222-2222-2222-2222-222222222222', 2023, '2023-04-01', '2024-03-31', NOW(), NOW()),
-- テックイノベーション
('03333333-2222-2222-2222-222222222222', 'f3333333-3333-3333-3333-333333333333', 2022, '2022-04-01', '2023-03-31', NOW(), NOW()),
('03333333-3333-3333-3333-333333333333', 'f3333333-3333-3333-3333-333333333333', 2023, '2023-04-01', '2024-03-31', NOW(), NOW())
ON CONFLICT (id) DO NOTHING;

-- 6. 貸借対照表項目 - サンプル製造
INSERT INTO balance_sheet_items (
  period_id,
  cash_and_deposits, accounts_receivable, inventory,
  current_assets_total, tangible_fixed_assets,
  fixed_assets_total, total_assets,
  accounts_payable, short_term_borrowings,
  current_liabilities_total, long_term_borrowings,
  total_liabilities, capital_stock,
  retained_earnings, total_net_assets,
  created_at, updated_at
) VALUES
-- 2021年度
('01111111-1111-1111-1111-111111111111',
 150000000, 280000000, 180000000,
 650000000, 320000000,
 420000000, 1070000000,
 220000000, 150000000,
 480000000, 200000000,
 700000000, 100000000,
 270000000, 370000000,
 NOW(), NOW()),
-- 2022年度
('01111111-2222-2222-2222-222222222222',
 180000000, 320000000, 190000000,
 720000000, 340000000,
 450000000, 1170000000,
 240000000, 140000000,
 510000000, 180000000,
 710000000, 100000000,
 360000000, 460000000,
 NOW(), NOW()),
-- 2023年度
('01111111-3333-3333-3333-333333333333',
 220000000, 380000000, 200000000,
 830000000, 360000000,
 480000000, 1310000000,
 260000000, 130000000,
 540000000, 160000000,
 720000000, 100000000,
 490000000, 590000000,
 NOW(), NOW())
ON CONFLICT (period_id) DO NOTHING;

-- 7. 損益計算書項目 - サンプル製造
INSERT INTO profit_loss_items (
  period_id,
  net_sales, cost_of_sales, gross_profit,
  selling_general_admin_expenses, operating_income,
  non_operating_income, non_operating_expenses,
  ordinary_income, income_before_tax,
  income_taxes, net_income,
  created_at, updated_at
) VALUES
-- 2021年度
('01111111-1111-1111-1111-111111111111',
 1200000000, 840000000, 360000000,
 250000000, 110000000,
 5000000, 12000000,
 103000000, 100000000,
 30000000, 70000000,
 NOW(), NOW()),
-- 2022年度
('01111111-2222-2222-2222-222222222222',
 1350000000, 920000000, 430000000,
 280000000, 150000000,
 6000000, 10000000,
 146000000, 140000000,
 42000000, 98000000,
 NOW(), NOW()),
-- 2023年度
('01111111-3333-3333-3333-333333333333',
 1580000000, 1060000000, 520000000,
 310000000, 210000000,
 8000000, 9000000,
 209000000, 205000000,
 61500000, 143500000,
 NOW(), NOW())
ON CONFLICT (period_id) DO NOTHING;

-- 8. 手入力データ - サンプル製造
INSERT INTO manual_inputs (period_id, input_type, amount, note, created_at, updated_at) VALUES
('01111111-1111-1111-1111-111111111111', 'depreciation', 28000000, '2021年度減価償却費', NOW(), NOW()),
('01111111-1111-1111-1111-111111111111', 'capex', 35000000, '2021年度設備投資', NOW(), NOW()),
('01111111-2222-2222-2222-222222222222', 'depreciation', 32000000, '2022年度減価償却費', NOW(), NOW()),
('01111111-2222-2222-2222-222222222222', 'capex', 52000000, '2022年度設備投資', NOW(), NOW()),
('01111111-3333-3333-3333-333333333333', 'depreciation', 36000000, '2023年度減価償却費', NOW(), NOW()),
('01111111-3333-3333-3333-333333333333', 'capex', 58000000, '2023年度設備投資', NOW(), NOW())
ON CONFLICT DO NOTHING;

-- 9. 分析コメント
INSERT INTO analysis_comments (
  analysis_id, comment_type,
  ai_generated_text,
  is_edited, display_order,
  created_at, updated_at
) VALUES
('f1111111-1111-1111-1111-111111111111', 'overall',
 '【総合評価】
株式会社サンプル製造の財務状況は良好です。3期連続で増収増益を達成しており、売上高は2021年度の12億円から2023年度には15.8億円まで31.7%増加しています。営業利益率も改善傾向にあり、収益性が向上しています。

一方で、有利子負債も一定程度存在するため、今後の設備投資と財務バランスに注意が必要です。',
 false, 1,
 NOW(), NOW()),
('f1111111-1111-1111-1111-111111111111', 'profitability',
 '【収益性分析】
売上総利益率は30-33%で安定しており、営業利益率は9.2%から13.3%へと大きく改善しています。ROEも18.9%から24.3%へ向上しており、資本効率も良好です。',
 false, 2,
 NOW(), NOW())
ON CONFLICT DO NOTHING;
